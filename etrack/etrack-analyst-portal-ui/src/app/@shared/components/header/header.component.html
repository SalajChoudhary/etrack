<nav class="navbar navbar-expand-lg navbar-light primary" [ngClass]="{'differentHeader': hideRegularHeader}">
  <span class="header-1b pad-top-bottom" *ngIf="!hideRegularHeader" href="#">New York State Department of Environmental
    Conservation</span>
  <span class="header-1b pad-top-bottom" *ngIf="hideRegularHeader && fullName"><span
      *ngIf="inquiryId">Assigned Analyst: &nbsp;</span>{{ fullName }}</span>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
    aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  <div class="nav-icons" ngbDropdown>
    <ng-container *ngIf="!hideRegularHeader">
      <button class="btn btn-nav-title header-1b" id="dropdownBasic1" ngbDropdownToggle>
        Version: {{appVersion}} |
        {{screenerName}}
        <!-- loadrunner -->
        |
      </button>
      <div ngbDropdownMenu aria-labelledby="dropdownBasic1">
        <button ngbDropdownItem (click)="logout()">Logout</button>
      </div>

      <span ngbTooltip="User Guide" placement="auto" class="cursor-pointer" (click)="openHelpPdf()">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-question-circle"
          viewBox="0 0 16 16">
          <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z" />
          <path
            d="M5.255 5.786a.237.237 0 0 0 .241.247h.825c.138 0 .248-.113.266-.25.09-.656.54-1.134 1.342-1.134.686 0 1.314.343 1.314 1.168 0 .635-.374.927-.965 1.371-.673.489-1.206 1.06-1.168 1.987l.003.217a.25.25 0 0 0 .25.246h.811a.25.25 0 0 0 .25-.25v-.105c0-.718.273-.927 1.01-1.486.609-.463 1.244-.977 1.244-2.056 0-1.511-1.276-2.241-2.673-2.241-1.267 0-2.655.59-2.75 2.286zm1.557 5.763c0 .533.425.927 1.01.927.609 0 1.028-.394 1.028-.927 0-.552-.42-.94-1.029-.94-.584 0-1.009.388-1.009.94z" />
        </svg>
      </span>
    </ng-container>

    <span class="cursor-pointer" (click)="openAlerts()"  [attr.fill]="showNotification()" *ngIf="!hideRegularHeader">
      <!-- stroke ="red" stroke-width="1.5" -->
      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-bell-fill" *ngIf="!showAlertNotification"
        viewBox="0 0 16 16">

        <!-- <image x="10" y="20" width="80" height="80" src="red-dot.svg" />
        <circle cx="-50" cy="-50" r="30" style="fill:red" /> -->
        <path
          d="M8 16a2 2 0 0 0 2-2H6a2 2 0 0 0 2 2zm.995-14.901a1 1 0 1 0-1.99 0A5.002 5.002 0 0 0 3 6c0 1.098-.5 6-2 7h14c-1.5-1-2-5.902-2-7 0-2.42-1.72-4.44-4.005-4.901z" />
      </svg>
      <svg *ngIf="alertData?.length && !showAlertNotification" xmlns="http://www.w3.org/2000/svg" 
      width="8" height="8" style="fill:red; position:absolute;top: 0.5rem;
      right: 3.4rem;" viewBox="0 0 512 512">
        <path d="M256 512c141.4 0 256-114.6 256-256S397.4 0 256 0S0 114.6 0 256S114.6 512 256 512z" />
      </svg>
    </span>




    <!-- <span class="cursor-pointer" style="position: relative ;" (click)="openNotifications()">
      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" style="z-index:-1 ;"
        class="bi bi-wallet-fill" viewBox="0 0 16 16">
        <path
          d="M1.5 2A1.5 1.5 0 0 0 0 3.5v2h6a.5.5 0 0 1 .5.5c0 .253.08.644.306.958.207.288.557.542 1.194.542.637 0 .987-.254 1.194-.542.226-.314.306-.705.306-.958a.5.5 0 0 1 .5-.5h6v-2A1.5 1.5 0 0 0 14.5 2h-13z" />
        <path
          d="M16 6.5h-5.551a2.678 2.678 0 0 1-.443 1.042C9.613 8.088 8.963 8.5 8 8.5c-.963 0-1.613-.412-2.006-.958A2.679 2.679 0 0 1 5.551 6.5H0v6A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5v-6z" />
      </svg>
      <svg xmlns="http://www.w3.org/2000/svg" *ngIf="showAlertIcon && !hideRegularHeader" width="8" height="8"
        style="fill:red; position:absolute;bottom: 8px;left: 12px;" viewBox="0 0 512 512">
        <path d="M256 512c141.4 0 256-114.6 256-256S397.4 0 256 0S0 114.6 0 256S114.6 512 256 512z" />
      </svg>
    </span> -->
    <span *ngIf="!inquiryId && !isNoContent" class="cursor-pointer" style="position: relative ; top:5px" (click)="openNotifications()">
      <mat-icon *ngIf="emailCount > 0 && !hideRegularHeader" matBadge="{{emailCount}}" matBadgeColor="warn" style="font-size: 18px ;">mail</mat-icon>
      <mat-icon *ngIf="emailCount === 0 || hideRegularHeader"  matBadgeColor="warn" style="font-size: 18px ; height: 18px !important;">mail</mat-icon>
    </span>
    <app-mail-notifications  #mailNotifications [inquiryId]="inquiryId" [projectId]="projectId"></app-mail-notifications>
  </div>

</nav>

<app-alert-popup (closePopup)="alertClosed()" #alertModal [alertData]="alertData" [pageFrom]="pageFrom" [openModal]="openAlertsSub">
</app-alert-popup>