<ng-container>
    <form [formGroup]="notesFormGroup" (ngSubmit)="onFormSubmit()">
        <div style="min-height: 40px" class="top-header header-align">
            {{noteDetails?.actionTypeDesc}}
        </div>
        <div class="modal-body-confirmation">
            <div class="row">
                <div class="col-12">
                    <div class="form-group lh">
                        <h3 class="w-100 p-0 m-0 font-weight r-align">Date:</h3>
                        <div class="form-check">
                            {{noteDetails?.actionDate | date:'MM/dd/yyyy'}}
                        </div>
                    </div>
                </div>
            </div>
            <div class="row" *ngIf="noteDetails?.actionType !==19">
                <div class="col-12">
                    <div class="form-group lh">
                        <h3 class="w-100 p-0 m-0 font-weight r-align">Note:</h3>
                        <div class="form-check w-80">
                            {{noteDetails?.actionNote}}
                        </div>
                    </div>
                </div>
            </div>



            <div class="row h-28" *ngIf="noteDetails?.actionType ===19">
                <div class="col-12">
                    <div class="form-group lh mb-0">
                        <h3 class="w-100 p-0 m-0 font-weight r-align">Note:</h3>
                        <div class="form-check">
                           Project ID {{projectId}} - {{litHoldStartString}}
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="form-check ml-7">
                    <!-- <div *ngIf="!litHoldHasEndDate"> -->
                        <span>{{litHoldEndString}} <span class="italic" *ngIf="!litHoldHasEndDate">none</span></span> 
                    <!-- </div> -->
                  <!-- <span *ngIf="litHoldHasEndDate">{{litHoldEndString}}</span>   -->
                </div>
            </div>

            <div *ngIf="noteDetails?.actionType===16">
                <div class="row">
                    <div class="col-12">
                        <div class="form-group lh">
                            <h3 class="w-272 ml-4 p-0 m-0 font-weight r-align">Reason for Cancellation:</h3>
                            <div class="form-check">
                                {{noteDetails?.reason}}
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-12">
                        <div class="form-group lh">
                            <h3 class="w-272 ml-4 p-0 m-0 font-weight r-align">Cancelled By:</h3>
                            <div class="form-check">
                                {{noteDetails?.cancelledUserName}}
                            </div>
                        </div>
                    </div>
                </div>
            </div>     
            <!-- Payment Received Note -->
            <div class="row col-12" *ngIf="noteDetails?.actionType===15">
                <div class="form-group col-6 lh">
                    <ul class="margin-l">
                        <li class="row mb-2">
                            <div class="col-10">
                                {{noteDetails.paymentActionNote?.projectType1}}
                            </div>
                            <div class="col-2">
                                ${{noteDetails.paymentActionNote?.projectTypeFee1}}
                            </div>
                            
                        </li>
                        <li class="row mb-2">
                            <div class="col-10">
                                {{noteDetails.paymentActionNote?.projectType2}}
                            </div>
                            <div class="col-2">
                                ${{noteDetails.paymentActionNote?.projectTypeFee2}}
                            </div>
                        </li>
                        <li class="row" *ngIf="noteDetails.paymentActionNote?.projectType3">
                            <div class="col-10">
                                {{noteDetails.paymentActionNote?.projectType3}}
                            </div>
                            <div class="col-2">
                                ${{noteDetails.paymentActionNote?.projectTypeFee3}}
                            </div>
                        </li>
                        <li class="row">
                            <div class="col-10 bold r-align">
                                Total Amount:
                            </div>
                            <div class="col-2">
                                ${{noteDetails.paymentActionNote?.totalAmount}}
                            </div>
                        </li>
                    </ul>
                </div>
                <div class="form-group col-6 lh">
                    <ul class="r-align">
                        <li class="row mb-2 ">
                            <div class="col-8 bold">
                                Invoice Number #:
                            </div>
                            <div class="col-4">
                                {{noteDetails.paymentActionNote?.invoiceNumber}}
                            </div>
                            
                        </li>
                        <li class="row mb-2">
                            <div class="col-8 bold">
                               Payment Reference #:
                            </div>
                            <div class="col-4">
                                {{noteDetails.paymentActionNote?.paymentReference}}
                            </div>
                        </li>
                    </ul>
                </div>
                
            </div>
            <!-- Required Documents Not Submitted -->
            <div class="row col-12" *ngIf="noteDetails?.actionType===17">
                <div class="form-group col-6 lh">
                    <ul class="margin-l">
                        <li class="mb-2" *ngFor="let doc of noteDetails?.missingReqdDoc,let i=index">
                            <!-- <div class="col-10 bold"> -->
                                {{doc}}
                            <!-- </div> -->
                           
                            
                        </li>
                        
                    </ul>
                </div>
               
               
            </div>
            <div class="row">
                <div class="col-12">
                    <div class="form-group">
                        <h3 class="w-100 p-0 m-0 font-weight r-align">Comments:</h3>
                        <div class="form-check full-width">
                            <app-textarea-child [formGroup]="notesFormGroup" fieldWidth="98%"
                                (onInputChange)="onInputChange($event)" controlName="comments" [maxLength]="maxNote"
                                noOfRows="6"></app-textarea-child>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-12">
                    <div class="form-group">
                        <h3 class="w-100 p-0 m-0 font-weight r-align">
                            Updated By:
                        </h3>

                        <div class="form-check">
                            <div *ngIf="!noteDetails?.updatedBy" class="mtop-3">
                                SYSTEM
                            </div>
                            <div *ngIf="noteDetails?.updatedBy" class="mtop-3">
                                {{noteDetails?.updatedBy}} on {{noteDetails?.updatedDate}}
                            </div>

                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="float-right mr-2" *ngIf="showServerError">
            <app-server-error-message [serverErrorMessage]="serverErrorMessage"></app-server-error-message>
          </div>
        <div class="modal-footer">
            <button type="submit" [disabled]="isReadOnly" id="noteSaveBtn" style="width: 60px" class="btn btn-sm btn-primari nextbutton mb-2 mr-2 upload">
                Save
            </button>

            <button type="button" style="width: 60px" id="closeButton" class="btn btn-sm btn-outline-dark closebutton mb-2"
                (click)="closeModal('manual')">
                Cancel
            </button>
        </div>
    </form>
</ng-container>

<app-pending-changes-popup
  #pendingPopup
  (onOkClick)="closeModal('program')"
></app-pending-changes-popup>